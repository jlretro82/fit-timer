<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>20 sec Timer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>20 sec Timer</h1>
    <div id="get-ready">Get Ready</div>
    <div id="countdown">3</div>
    <svg>
      <circle r="28" cx="30" cy="30" stroke-dasharray="176" stroke-dashoffset="0"></circle>
    </svg>
    <div>
      <button onclick="start()">Start</button>
      <button onclick="pause()">Pause</button>
      <button onclick="reset()">Reset</button>
    </div>
  </div>

  <script>
    let duration = 20;
    let remaining = duration;
    let countdown = 3;
    let interval, countdownInterval;
    let isRunning = false;

    const countdownEl = document.getElementById("countdown");
    const getReadyEl = document.getElementById("get-ready");
    const circle = document.querySelector("circle");
    const dashArray = 176;

    function updateCircle() {
      const progress = (remaining / duration);
      circle.style.strokeDashoffset = dashArray * (1 - progress);
    }

    function tick() {
      if (remaining > 0) {
        remaining--;
        countdownEl.innerText = remaining;
        updateCircle();
      } else {
        clearInterval(interval);
      }
    }

    function startMainTimer() {
      getReadyEl.style.display = "none";
      countdownEl.innerText = remaining;
      updateCircle();
      interval = setInterval(tick, 1000);
      isRunning = true;
    }

    function start() {
      if (isRunning) return;
      getReadyEl.innerText = "Get Ready";
      countdownEl.innerText = countdown;
      getReadyEl.style.display = "block";

      countdownInterval = setInterval(() => {
        countdown--;
        countdownEl.innerText = countdown;
        if (countdown <= 0) {
          clearInterval(countdownInterval);
          startMainTimer();
        }
      }, 1000);
    }

    function pause() {
      clearInterval(interval);
      clearInterval(countdownInterval);
      isRunning = false;
    }

    function reset() {
      pause();
      remaining = duration;
      countdown = 3;
      getReadyEl.style.display = "block";
      getReadyEl.innerText = "Get Ready";
      countdownEl.innerText = countdown;
      updateCircle();
    }

    reset();
  </script>
</body>
</html>
